<Page x:Class="RandevuYonetimSistemi.Views.Auth.ForgotPasswordView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="clr-namespace:RandevuYonetimSistemi.ViewModels.AuthVM">

    <Page.DataContext>
        <vm:ForgotPasswordViewModel/>
    </Page.DataContext>

    <Grid Background="#F3F4F6">
        <Border Background="White"
                CornerRadius="15"
                Padding="40"
                Width="650"
                HorizontalAlignment="Center"
                VerticalAlignment="Center" Height="500">

            <StackPanel>

                <TextBlock Text="Reset Password"
                           FontSize="26"
                           FontWeight="Bold"
                           Foreground="#2C3E50"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,25"/>

                <TextBlock Text="Email" FontWeight="Bold"/>
                <TextBox Height="36"
                         FontSize="16"
                         Padding="5"
                         Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"/>

                <Button Content="Send Code"
                        Command="{Binding SendCodeCommand}"
                        Margin="0,15,0,0"
                        Height="40"
                        Background="#2E86DE"
                        Foreground="White"
                        FontWeight="Bold"/>

                <TextBlock Text="Verification Code"
                           FontWeight="Bold"
                           Margin="0,20,0,5"/>

                <TextBox Height="36"
                         FontSize="16"
                         Padding="5"
                         Text="{Binding Code}"/>

                <TextBlock Text="New Password"
                           FontWeight="Bold"
                           Margin="0,15,0,5"/>

                <PasswordBox x:Name="NewPasswordBox"
                             Height="36"
                             FontSize="16"
                             Padding="5"
                             PasswordChanged="NewPasswordBox_PasswordChanged"/>

                <Button Content="Reset Password"
                        Command="{Binding VerifyAndResetCommand}"
                        Margin="0,20,0,0"
                        Height="40"
                        Background="#27AE60"
                        Foreground="White"
                        FontWeight="Bold"/>

                <TextBlock Text="{Binding Message}"
                           Foreground="{Binding MessageColor}"
                           Margin="0,15,0,0"
                           TextAlignment="Center"
                           FontWeight="SemiBold"/>

            </StackPanel>
        </Border>
    </Grid>
</Page>
